ä¸€ä¸ªçœŸå®å¯ç”¨çš„ä¼ä¸šçº§å®¡æ‰¹ç³»ç»Ÿã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£ï¼š

ğŸ“ ç³»ç»Ÿæ¶æ„å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ApprovalFlowSystem (ä¸»åº”ç”¨)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Database (æ•°æ®ç®¡ç†å±‚)                 â”‚  â”‚
â”‚  â”‚  - users (ç”¨æˆ·æ•°æ®)                        â”‚  â”‚
â”‚  â”‚  - workflows (æµç¨‹å®šä¹‰)                    â”‚  â”‚
â”‚  â”‚  - instances (å®¡æ‰¹å®ä¾‹)                    â”‚  â”‚
â”‚  â”‚  - currentUser (å½“å‰ç™»å½•ç”¨æˆ·)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      ä¸šåŠ¡é€»è¾‘å±‚                             â”‚  â”‚
â”‚  â”‚  - æµç¨‹åˆ›å»ºä¸ä¿å­˜                           â”‚  â”‚
â”‚  â”‚  - å®¡æ‰¹å®ä¾‹åˆ›å»º                             â”‚  â”‚
â”‚  â”‚  - å®¡æ‰¹æµè½¬å¤„ç†                             â”‚  â”‚
â”‚  â”‚  - æ¡ä»¶åˆ¤æ–­å¼•æ“                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      UI ç»„ä»¶å±‚                              â”‚  â”‚
â”‚  â”‚  - NodeEditor (èŠ‚ç‚¹ç¼–è¾‘å™¨)                 â”‚  â”‚
â”‚  â”‚  - ConditionEditor (æ¡ä»¶é…ç½®å™¨)            â”‚  â”‚
â”‚  â”‚  - FlowVisualization (æµç¨‹å¯è§†åŒ–)          â”‚  â”‚
â”‚  â”‚  - ApprovalProgress (å®¡æ‰¹è¿›åº¦)             â”‚  â”‚
â”‚  â”‚  - ApprovalList (å®¡æ‰¹åˆ—è¡¨)                 â”‚  â”‚
â”‚  â”‚  - CreateApplicationForm (ç”³è¯·è¡¨å•)        â”‚  â”‚
â”‚  â”‚  - UserSelector (ç”¨æˆ·é€‰æ‹©å™¨)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1. Database ç±»ï¼ˆæ¨¡æ‹Ÿæ•°æ®åº“ï¼‰
```
class Database {
  users          // ç”¨æˆ·åˆ—è¡¨ï¼ˆ7ä¸ªæµ‹è¯•ç”¨æˆ·ï¼‰
  workflows      // æµç¨‹å®šä¹‰åˆ—è¡¨
  instances      // å®¡æ‰¹å®ä¾‹åˆ—è¡¨
  currentUser    // å½“å‰ç™»å½•ç”¨æˆ·
  
  // æ ¸å¿ƒæ–¹æ³•
  - getUsers()                    // è·å–æ‰€æœ‰ç”¨æˆ·
  - getCurrentUser()              // è·å–å½“å‰ç”¨æˆ·
  - setCurrentUser(userId)        // åˆ‡æ¢ç”¨æˆ·
  - saveWorkflow(workflow)        // ä¿å­˜æµç¨‹
  - createInstance(workflowId, formData)  // åˆ›å»ºå®¡æ‰¹å®ä¾‹
  - processApproval(instanceId, action, comment) // å¤„ç†å®¡æ‰¹
  - checkConditions(conditions, formData)  // æ¡ä»¶åˆ¤æ–­å¼•æ“
  - getMyPendingApprovals()       // è·å–å¾…æˆ‘å®¡æ‰¹
  - getMyApplications()           // è·å–æˆ‘çš„ç”³è¯·
}
```

2. Workflowï¼ˆæµç¨‹å®šä¹‰ï¼‰

```
{
  id: string,           // æµç¨‹ID
  name: string,         // æµç¨‹åç§°
  type: string,         // ç”³è¯·ç±»å‹
  nodes: Array,         // èŠ‚ç‚¹åˆ—è¡¨
  createTime: string    // åˆ›å»ºæ—¶é—´
}
```

3. Instanceï¼ˆå®¡æ‰¹å®ä¾‹ï¼‰

```
{
  id: string,               // å®ä¾‹ID
  workflowId: string,       // æ‰€å±æµç¨‹ID
  workflowName: string,     // æµç¨‹åç§°
  applicant: User,          // ç”³è¯·äºº
  formData: Object,         // è¡¨å•æ•°æ®
  status: ApprovalStatus,   // å½“å‰çŠ¶æ€
  currentNodeIndex: number, // å½“å‰èŠ‚ç‚¹ç´¢å¼•
  createTime: string,       // åˆ›å»ºæ—¶é—´
  history: Array            // å®¡æ‰¹å†å²
}
```
